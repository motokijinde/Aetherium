# Aetherium

Aetherium（エーテリウム）は、ローカルで動作するLLM（大規模言語モデル）とVOICEVOXを組み合わせて、テキストの会話に加えて**音声で会話してくれる**ことを特徴としたアプリケーションです。  
VOICEVOXの話者を選べるので、たとえば**ずんだもん**や**四国めたん**など、好きな声で会話できるのも大きな魅力です。  
インターネット上のAIサービスには接続せず、お手元のMac上で起動している**LM Studio**（Local Server）と**VOICEVOXエンジン**に接続して動作します。

## 動作環境
以下の環境が必要です。

- **macOS 26.０(Tahoe)以降**
- **Apple Silicon（M1以降）**
- **LM Studio**（Local Server）を起動できること
- **VOICEVOXエンジン**を起動できること

推奨: メモリ（RAM）**16GB以上**（LLMの種類によって必要量が大きく変わります）

## 事前に用意するもの
本アプリは、以下の2つに接続して動作します。アプリを起動する前に、それぞれを起動しておいてください。

接続先は「同じMac上の `127.0.0.1`」を前提にしています。

- **LM Studio（Local Server）**: `http://127.0.0.1:1234`
- **VOICEVOXエンジン**: `http://127.0.0.1:50021`

## LM Studio（ローカルLLM）の準備
Aetheriumは、LM Studioの`Local Server`に接続して会話を生成します。あらかじめLM Studioを起動し、`Local Server`を起動しておいてください。

1. LM Studioをインストールし、起動します。
2. LM Studio上で会話に使いたいモデルをダウンロードします。
3. LM Studioの`Local Server`を開き、サーバを起動します。
4. 起動できたら、Aetheriumの設定画面で`Model`が選べることを確認します。

```bash
# 任意（うまくいかない時の切り分け用）
curl -s http://127.0.0.1:1234/v1/models | head
```

## VOICEVOXの準備
Aetheriumは、VOICEVOXエンジンに接続して読み上げ音声を生成します。あらかじめVOICEVOXエンジンを起動しておいてください。

1. VOICEVOXエンジンを起動します。
2. 起動できたら、Aetheriumの設定画面で`Voice`が選べることを確認します。

```bash
# 任意（うまくいかない時の切り分け用）
curl -s http://127.0.0.1:50021/speakers | head
```

## 使い方
1. LM Studio（Local Server）とVOICEVOXを起動します。
2. アプリを起動します。起動後、設定画面で`Model`と`Voice`が選べる状態になったら準備完了です。
3. 設定画面で`Model`（使用するモデル）と`Voice`（読み上げ話者）を選択し、必要に応じて読み上げ速度を調整します。
4. `Start Session`を押してチャット画面へ移動します。
5. メッセージを入力して送信します。応答の生成中は、送信ボタンが停止ボタンに切り替わります。
6. 生成を途中で止めたい場合は停止ボタンを押します。読み上げ中の音声も含めて停止します。

## インストール方法
現時点のAetheriumはアプリ署名（Developer ID署名）を行っていないため、初回起動時にmacOSのGatekeeperでブロックされることがあります。以下の手順で起動できるようになります。

### `.dmg`からインストールする場合
1. 配布された`Aetherium.dmg`をダブルクリックして開きます。
2. 表示されたウィンドウで、`Aetherium.app`を`Applications`（または`アプリケーション`）フォルダへドラッグ&ドロップします。
3. コピーが終わったら、Finderのサイドバーから`Aetherium`のディスクイメージを取り出します。
4. `アプリケーション`フォルダから`Aetherium`を起動します。

### 初回起動でブロックされた場合（未署名）
未署名のため、初回起動時に警告が出て起動できない場合があります。その場合は次の手順を試してください。

1. FinderでAetherium.appを右クリックし、`開く`を選びます（初回のみ確認ダイアログが出ます）。
2. それでもブロックされる場合は、`システム設定` → `プライバシーとセキュリティ` の下部に表示される「ブロックされました」から`このまま開く`を選びます。

### 不安な方は自分でビルドする（おすすめ）
ソースコードはGitHubで公開しています。未署名の配布物が不安な方は、ソースからご自身でビルドして起動してください。

https://github.com/motokijinde/Aetherium

## よくあるトラブル
- **モデル/話者が表示されない**: LM Studioの`Local Server`とVOICEVOXが起動しているか確認してください。
- **読み上げが出ない**: VOICEVOXが起動しているか確認してください。
- **停止したのに次の応答が返らない**: LM Studio側が同時接続を制限している場合、停止直後の再送信で待たされることがあります。数秒待って改善しない場合は、LM Studioのログも確認してください。
- **ずんだもんが好きになり過ぎた**: いったん別の話者（例: 四国めたん）に切り替えて深呼吸し、落ち着いたらまた戻してください。

## 注意事項
本ソフトウェアは現状のまま提供されます。本ソフトウェアの使用または使用不能により生じたいかなる損害についても、作者は一切の責任を負いません。
